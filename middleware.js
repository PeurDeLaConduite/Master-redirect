import{NextResponse as e}from"next/server";export function middleware(t){let r=t.headers.get("user-agent")||"",i=/bot|crawl|slurp|spider|mediapartners/i.test(r),o=/(iPad|Tablet)/i.test(r)||/(Android)/i.test(r)&&!/(Mobile)/i.test(r),d=!o&&/Mobi|Android|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r);if(i)return e.next();let s="desktop",n="https://desktop.peur-de-la-conduite.fr/#slider";d&&(s="mobile",n="https://mobile.peur-de-la-conduite.fr");let l=e.redirect(new URL(n,t.url));return l.cookies.set("deviceType",s,{path:"/",domain:".peur-de-la-conduite.fr",httpOnly:!0,secure:!0,sameSite:"strict"}),l}export const config={matcher:"/"};