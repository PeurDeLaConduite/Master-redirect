import{NextResponse as e,NextRequest}from"next/server";export function middleware(t:NextRequest){let{pathname:r,search:o}=t.nextUrl;if("/robots.txt"===r||"/sitemap.xml"===r||"/favicon.ico"===r)return e.next();let i=t.headers.get("user-agent")||"",n=/(iPad|Tablet)/i.test(i)||/(Android)/i.test(i)&&!/Mobile/i.test(i),a=!n&&/Mobi|Android|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(i),l=t.nextUrl.clone();return l.hostname=a?"mobile.peur-de-la-conduite.fr":"desktop.peur-de-la-conduite.fr",l.protocol="https:",l.port="",l.pathname=r,l.search=o,e.rewrite(l)}export const config={matcher:"/:path*"};